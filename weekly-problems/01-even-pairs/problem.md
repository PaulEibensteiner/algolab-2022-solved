\section{تM}

Eidgenössische Technische Hochschule Zürich Swiss Federal Institute of Technology Zurich Algorithms Lab HS22

Department of Computer Science

Prof. Dr. A. Steger, Prof. Dr. E. Welzl cadmo.ethz.ch/education/lectures/HS22/algolab

\title{
Exercise - Even pairs
}

You are part of a team to develop a new kind of pseudorandom number generator (PRNG). To gauge how good your algorithm is at producing random sequences of bits, you are running several different statistical tests.

For example, if $x_{0}, \ldots, x_{n-1}$ was a truly random sequence of bits, then it would have the property that the sum $x_{i}+\cdots+x_{j}$ is even for about half of the pairs $0 \leqslant i \leqslant j<n$ (and odd for the other half).

To check whether this is the case, if $x_{0}, \ldots, x_{n-1}$ are generated by your PRNG, you need to be able to count the number of pairs $0 \leqslant i \leqslant j<n$ for which the sum is even.

Input The first line of the input contains the number $t \leqslant 30$ of test cases. Each of the $t$ test cases is described as follows.

- It starts with a line that contains an integer $n$, such that $1 \leqslant n \leqslant 5 \cdot 10^{4}$.

- The following line contains $n$ integers $x_{0} \ldots x_{n-1}$, separated by a space, such that $x_{i} \in\{0,1\}$, for all $i \in\{0, \ldots, n-1\}$.

Output For each test case output a single line containing the number of pairs $0 \leqslant i \leqslant j<n$ such that the sum $x_{i}+\cdots+x_{j}$ is even.

Points There are three groups of test sets, worth 100 points in total.

1. For the first group of test sets, worth 40 points, you may assume that $1 \leqslant n \leqslant 200$.

2. For the second group of test sets, worth 40 points, you may assume that $1 \leqslant n \leqslant 5000$.

3. For the third group of test sets, worth 20 points, there are no additional assumptions.

Corresponding sample test sets are contained in testi.in/out, for $i \in\{1,2,3\}$.

Sample Input

$\begin{array}{llll}2 & & & \\ 4 & & & \\ 0 & 1 & 1 & 1 \\ 3 & & & \\ 0 & 0 & 0\end{array}$

Sample Output